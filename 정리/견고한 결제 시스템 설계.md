## 견고한 결제 시스템 설계 

1. PCI DSS ?
2. Double-Entry Ledger System ? -> 장부에 기록된 내역들을 합치면 0이 되어야함.
3. Two Phase Commit 이용한 Atomic 연산 ?
4. 데이터베이스와 메시지 큐를 한 개의 트랜잭션으로 묶을 수 없는가?
5. Transactional Outbox Pattern ?
6. 래빗엠큐는 2PC를 지원하지만 카프카는 지원하지 않는다. 그렇다고 래빗앰큐를 사용하는 것은 합리적이지 않다고 하는데 카프카의 장점은 무엇일까?
    - 카프카에서는 내부적으로 트랜잭션 기능을 지원한다.
7. 데이터베이스 트리거를 사용해 정확한 데이터들을 입력했는지 검증할 수 있다. 이를 통해 일관성을 깨는 데이터 입력을 방지할 수 있고, 또 트리거를 사용해 장부의 데이터를 변경 불가능하게 만드는 것도 가능하다. 
8. 결제 상태를 통해 '재시도' 기반으로 완료되지 않은 결제가 존재하지 않도록 한다.
9. Reconciliation 프로세스
10. 결제 완료 후 되돌아가면 결제가 완료되었는지 어떻게 확인하는걸까?
11. [결제 흐름 이해하기](https://docs.tosspayments.com/guides/v2/get-started/payment-flow#%EC%9A%94%EC%B2%AD-%EC%9D%B8%EC%A6%9D-%EC%8A%B9%EC%9D%B8)
12. MySQL 유니크 제약조건도 인덱스가 생성되나?
13. Checkout 기능을 연속으로 사용자가 호출하면 어떤 일이 발생하나요? 현재 테스트 코드에서 DataIntegrityViolationException 예외가 발생하는데 어떻게 발생하는건지?
14. UpdateRepository에서 상태를 조회하는 검증이 필요할 때 SelectRepository를 주입받지 않고 직접 select를 사용한다.
