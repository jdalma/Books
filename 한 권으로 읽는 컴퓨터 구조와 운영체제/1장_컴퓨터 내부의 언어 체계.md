
# 논리 연산

다른 비트들이 표현하는 내용으로부터 **새로운 비트를 만들어내는 동작**  

> A XOR B = (A OR B) AND (NOT(A AND B))

# 드모르간의 법칙

이 법칙은 `A AND B = NOT(NOT A OR NOT B)` 와 같다고 말한다.  
이 말은 **NOT을 충분히 사용하면 AND 연산을 OR 연산으로 대신할 수 있다.**  
- 역으로 OR을 AND로 대신할 수도 있다.
  
긍정적인 논리에 더해 부정적인 논리를 기술하는 명제를 사용할 때 이 법칙을 활용할 수 있다.  


# 2진수 덧셈

2진수 덧셈은 두 비트를 `XOR`한 값과 같고, 올림은 두 비트를 `AND`한 값과 같다.
- 1 + 1을 수행할 때
  - 원래의 위치에는 `1 XOR 1`의 결과
  - 올림의 위치에는 `1 AND 1`의 결과
  
컴퓨터는 **조건 코드 (또는 상태 코드) 레지스터**라는 곳에 몇 가지의 정보를 저장한다.  
여기에는 **오버플로 비트 (overflow bit)**가 있다. 이 비트에는 **MSB에서 발생한 올림값이 저장된다.**  
- 이 비트를 확인하면 오버플로가 발생했는지 알 수 있다.
- MSB 위쪽에서 1을 빌려오는 경우를 **언더플로**라고 한다.
  
# 음수 표현

가장 왼쪽 비틑 (MSB)를 부호로 사용하는 **부호와 크기 표현법**은 두 가지 이유로 인해 널리 쓰이지 못하고 있다.  
1. 비트들을 구성하려면 비용이 드는데 0을 표현하는 방법이 두 가지라서 비용이 낭비된다.  
2. `XOR`과 `AND`를 통한 덧셈 계산을 사용할 수가 없다.

## 1의 보수

음수를 표현하는 또 다른 방법으로는 NOT연산을 통해 `양수의 모든 비트를 뒤집는 방법`이 있다.  
하지만 1의 보수 표현법에도 **0을 두 가지 방식으로 표현**한다는 문제가 있다.  
- `+0`을 NOT으로 연산한 것이 `-0`
  
그리고 1의 보수에서 덧셈을 **MSB 쪽에서 올림이 발생한 경우 LSB로 올림을 전달해야하는 `순환 올림`**을 사용하여 해결한다.  
하지만 **순환 올림**을 처리하기 위한 하드웨어를 추가해야 하기 때문에 그다지 좋은 해법은 아니다.  

> 현대 컴퓨터에서는 **부호와 크기 표현법**이나 **1의 보수 표현법**을 모두 사용하지 않는다.

## 2의 보수

특별한 하드웨어를 추가할 수 없고 `XOR`와 `AND` 연산만 사용해야 한다면 어떻게 일반 정수 사이의 덧셈을 할 수 있을까?  

> `+1`에 더 했을 때 `0`이 나오는 비트 패턴을 찾고 이 패턴을 `-1`이라고 불러보자.  

```
+1 : 0 0 0 1
-1 : 1 1 1 1
------------
0    0 0 0 0
```

> 즉 `0001`의 비트를 뒤집으면 `1110`이고, 여기에 `1`을 더하면 `1111`이 되며, 이 값이 `-1`을 표현한다.  
> 따라서 앞으로는 `1111`을 `-1`을 표현하는 비트 패턴으로 사용하자  
  
이 방법은 **부호가 있는 정수를 표현할 때 가장 널리 쓰이는 방법**이다.  
이때 `MSB`에서 올림이 발생하면 이 값은 버린다.  
  
2의 보수를 사용하면 1의 보수에서 생기는 `0`을 두 가지로 표현하는 문제가 해결된다.  

# 실수를 표현하는 방법

## 고정소수점 표현법

2진수를 사용해 소수를 표현하기 위해 **2진 소수점의 위치를 일정하게 고정하는 방법**이 있다.  
- 4비트가 있다면 그중 2비트는 2진 소수점의 오른쪽에 있는 분수들을 표현하는데 쓰이고, 2비트는 왼쪽에 있는 숫자들을 표현하는 데 쓸 수 있다.
  
$$ `10.01` = 2 + \frac{1}{4} $$
$$ `11.11` = 3 + \frac{3}{4} $$

오른쪽의 2비트로도 네 가지 값을 표현할 수 있다.  
**다만 2진 소수점의 오른쪽에 있는 숫자들은 10진 소수점의 오른쪽에 있는 숫자들과 비슷하게 분수를 표현한다.**  
1/2, 1/4 등 2의 거듭제곱을 분모로 사용한다는 점이 다를 뿐이다.  
  
> 하지만, 쓸모 있는 범위의 실숫값을 표현하기 위해 필요한 비트 개수가 너무 많기 때문에 범용 컴퓨터에서 이런 방식을 사용하는 경우는 드물다.  
> **모든 수를 몇백 비트로 표현하면 메모리 비용이 너무 많이 들기 때문에 다른 방법을 써야 한다.**  
> 특별한 목적에 쓰이는 일부 컴퓨터는 여전히 고정소수점 수를 쓰기도 한다.  

## 부동소수점 표현법

과학적 표기법을 2진수에 적용하는 방법이다.  
수를 해석하는 새로운 방법을 도입해서 큰 범위의 수를 표현한다.  
과학적 표기법에서는 **10진 소수점 왼쪽이 한 자리뿐인 소수 (가수)**에 **10을 몇 번(지수) 거듭제곱한 값을 곱하는 방식**으로 소수를 표현한다.  
  
예를 들어, `0.0012`대신 1.2 * 10<sup>-3</sup> 이라고 쓰며, 이 값은 `1.2 * 0.001`이므로 `0.0012`와 같다.  

**아래의 2비트 가수와 2비트 지수를 사용하는 4비트 부동소수점 수 표현을 보자**

$$ `0.000` = 0(0 * 2^0) $$  
$$ `0.001` = 0(0 * 2^1) $$
$$ `0.010` = 0(0 * 2^2) $$
$$ `0.011` = 0(0 * 2^3) $$
